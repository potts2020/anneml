<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Homography estimation"><meta name="keywords" content="rust, rustlang, rust-lang, homography"><title>homography in arrayfire - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="http:&#x2F;&#x2F;www.rust-lang.org&#x2F;favicon.ico"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../arrayfire/index.html"><div class="logo-container"><img src="http:&#x2F;&#x2F;www.arrayfire.com&#x2F;logos&#x2F;arrayfire_logo_symbol.png" alt="logo"></div>
        </a><div class="sidebar-elems"><h2 class="location">Other items in<br><a href="index.html">arrayfire</a></h2><div id="sidebar-vars" data-name="homography" data-ty="fn" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../arrayfire/index.html"><img src="http:&#x2F;&#x2F;www.arrayfire.com&#x2F;logos&#x2F;arrayfire_logo_symbol.png" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><h1 class="fqn"><span class="in-band">Function <a href="index.html">arrayfire</a>::<wbr><a class="fn" href="#">homography</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/arrayfire/vision/mod.rs.html#646-677" title="goto source code">[src]</a></span></h1><div class="docblock item-decl"><pre class="rust fn"><code>pub fn homography&lt;OutType&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;x_src: &amp;<a class="struct" href="struct.Array.html" title="struct arrayfire::Array">Array</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.f32.html">f32</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;y_src: &amp;<a class="struct" href="struct.Array.html" title="struct arrayfire::Array">Array</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.f32.html">f32</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;x_dst: &amp;<a class="struct" href="struct.Array.html" title="struct arrayfire::Array">Array</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.f32.html">f32</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;y_dst: &amp;<a class="struct" href="struct.Array.html" title="struct arrayfire::Array">Array</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.f32.html">f32</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;htype: <a class="enum" href="enum.HomographyType.html" title="enum arrayfire::HomographyType">HomographyType</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;inlier_thr: <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.f32.html">f32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;iterations: <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.u32.html">u32</a><br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.tuple.html">(</a><a class="struct" href="struct.Array.html" title="struct arrayfire::Array">Array</a>&lt;OutType&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.i32.html">i32</a><a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.tuple.html">)</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;OutType: <a class="trait" href="trait.HasAfEnum.html" title="trait arrayfire::HasAfEnum">HasAfEnum</a> + <a class="trait" href="trait.RealFloating.html" title="trait arrayfire::RealFloating">RealFloating</a>,&nbsp;</span></code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Homography estimation</p>
<p>Homography estimation find a perspective transform between two sets of 2D points.
Currently, two methods are supported for the estimation, RANSAC (RANdom SAmple Consensus)
and LMedS (Least Median of Squares). Both methods work by randomly selecting a subset
of 4 points of the set of source points, computing the eigenvectors of that set and
finding the perspective transform. The process is repeated several times, a maximum of
times given by the value passed to the iterations arguments for RANSAC (for the CPU
backend, usually less than that, depending on the quality of the dataset, but for CUDA
and OpenCL backends the transformation will be computed exactly the amount of times
passed via the iterations parameter), the returned value is the one that matches the
best number of inliers, which are all of the points that fall within a maximum L2
distance from the value passed to the inlier_thr argument.</p>
<h2 id="parameters" class="section-header"><a href="#parameters">Parameters</a></h2>
<ul>
<li><code>x_src</code> is the x coordinates of the source points.</li>
<li><code>y_src</code> is the y coordinates of the source points.</li>
<li><code>x_dst</code> is the x coordinates of the destination points.</li>
<li><code>y_dst</code> is the y coordinates of the destination points.</li>
<li><code>htype</code> can be AF_HOMOGRAPHY_RANSAC, for which a RANdom SAmple Consensus will be used to evaluate the homography quality (e.g., number of inliers), or AF_HOMOGRAPHY_LMEDS, which will use Least Median of Squares method to evaluate homography quality</li>
<li><code>inlier_thr</code> - if htype is AF_HOMOGRAPHY_RANSAC, this parameter will five the maximum L2-distance for a point to be considered an inlier.</li>
<li><code>iterations</code> is the maximum number of iterations when htype is AF_HOMOGRAPHY_RANSAC and backend is CPU,if backend is CUDA or OpenCL, iterations is the total number of iterations, an iteration is a selection of 4 random points for which the homography is estimated and evaluated for number of inliers.</li>
<li><code>otype</code> is the array type for the homography output.</li>
</ul>
<h2 id="return-values" class="section-header"><a href="#return-values">Return Values</a></h2>
<p>Returns a tuple of Array and int.</p>
<ul>
<li><code>H</code> is a 3x3 array containing the estimated homography.</li>
<li><code>inliers</code> is the number of inliers that the homography was estimated to comprise, in the case that htype is AF_HOMOGRAPHY_RANSAC, a higher inlier_thr value will increase the estimated inliers. Note that if the number of inliers is too low, it is likely that a bad homography will be returned.</li>
</ul>
</div></details></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="arrayfire" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.59.0 (9d1b2106e 2022-02-23)" ></div>
</body></html>
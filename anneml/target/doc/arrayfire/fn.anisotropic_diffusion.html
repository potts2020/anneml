<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Anisotropic smoothing filter"><meta name="keywords" content="rust, rustlang, rust-lang, anisotropic_diffusion"><title>anisotropic_diffusion in arrayfire - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="http:&#x2F;&#x2F;www.rust-lang.org&#x2F;favicon.ico"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../arrayfire/index.html"><div class="logo-container"><img src="http:&#x2F;&#x2F;www.arrayfire.com&#x2F;logos&#x2F;arrayfire_logo_symbol.png" alt="logo"></div>
        </a><div class="sidebar-elems"><h2 class="location">Other items in<br><a href="index.html">arrayfire</a></h2><div id="sidebar-vars" data-name="anisotropic_diffusion" data-ty="fn" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../arrayfire/index.html"><img src="http:&#x2F;&#x2F;www.arrayfire.com&#x2F;logos&#x2F;arrayfire_logo_symbol.png" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><h1 class="fqn"><span class="in-band">Function <a href="index.html">arrayfire</a>::<wbr><a class="fn" href="#">anisotropic_diffusion</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/arrayfire/image/mod.rs.html#1701-1727" title="goto source code">[src]</a></span></h1><div class="docblock item-decl"><pre class="rust fn"><code>pub fn anisotropic_diffusion&lt;T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;img: &amp;<a class="struct" href="struct.Array.html" title="struct arrayfire::Array">Array</a>&lt;T&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;dt: <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.f32.html">f32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;k: <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.f32.html">f32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;iters: <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;fftype: <a class="enum" href="enum.FluxFn.html" title="enum arrayfire::FluxFn">FluxFn</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;diff_kind: <a class="enum" href="enum.DiffusionEq.html" title="enum arrayfire::DiffusionEq">DiffusionEq</a><br>) -&gt; <a class="struct" href="struct.Array.html" title="struct arrayfire::Array">Array</a>&lt;T::<a class="associatedtype" href="trait.HasAfEnum.html#associatedtype.AbsOutType" title="type arrayfire::HasAfEnum::AbsOutType">AbsOutType</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="trait.HasAfEnum.html" title="trait arrayfire::HasAfEnum">HasAfEnum</a> + <a class="trait" href="trait.EdgeComputable.html" title="trait arrayfire::EdgeComputable">EdgeComputable</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;T::<a class="associatedtype" href="trait.HasAfEnum.html#associatedtype.AbsOutType" title="type arrayfire::HasAfEnum::AbsOutType">AbsOutType</a>: <a class="trait" href="trait.HasAfEnum.html" title="trait arrayfire::HasAfEnum">HasAfEnum</a>,&nbsp;</span></code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Anisotropic smoothing filter</p>
<p>Anisotropic diffusion algorithm aims at removing noise in the images
while preserving important features such as edges. The algorithm
essentially creates a scale space representation of the original
image, where image from previous step is used to create a new version
of blurred image using the diffusion process. Standard isotropic diffusion
methods such as gaussian blur, doesn’t take into account the local
content(smaller neighborhood of current processing pixel) while removing
noise. Anisotropic diffusion uses the flux equations given below to
achieve that. Flux equation is the formula used by the diffusion process
to determine how much a pixel in neighborhood should contribute to
the blurring operation being done at the current pixel at a given iteration.</p>
<p>The flux function can be either exponential or quadratic.</p>
<table>
<caption id="multi row">Available Flux Functions</caption>
<tr>
    <td align="center" style="vertical-align:middle;">
      AF_FLUX_QUADRATIC
    </td>
    <td align="center">
      \begin{equation}
        \frac{1}{1 + (\frac{\| \nabla I\|}{K})^2}
      \end{equation}
    </td>
</tr>
<tr>
    <td align="center" style="vertical-align:middle;">
      AF_FLUX_EXPONENTIAL
    </td>
    <td align="center">
      \begin{equation}
        \exp{-(\frac{\| \nabla I\|}{K})^2}
      \end{equation}
    </td>
</tr>
</table>
<p>Please be cautious using the time step parameter to the function.
Appropriate time steps for solving this type of p.d.e. depend on
the dimensionality of the image and the order of the equation.
Stable values for most 2D and 3D functions are 0.125 and 0.0625,
respectively. The time step values are automatically constrained
to the stable value.</p>
<p>Another input parameter to be cautious about is the conductance
parameter, lower values strongly preserve image features and
vice-versa. For human vision, this value ranges from 0.5 to 2.0.</p>
<h2 id="parameters" class="section-header"><a href="#parameters">Parameters</a></h2>
<ul>
<li><code>img</code> is the noisy input image</li>
<li><code>dt</code> is the timestep for diffusion equation</li>
<li><code>k</code> is the conductance parameter for diffusion</li>
<li><code>iters</code> is the number of iterations diffusion is performed</li>
<li><code>fftype</code> dictates the type of flux flow and it is an
<a href="./enum.DiffusionEq.html">enum</a></li>
<li><code>diff_kind</code> dictates the type of diffusion and it is an
<a href="./enum.FluxFn.html">enum</a></li>
</ul>
<h2 id="return-values" class="section-header"><a href="#return-values">Return Values</a></h2>
<p>Returns an anisotropically smoothed and noise-free image</p>
<h4 id="references" class="section-header"><a href="#references">References</a></h4>
<ul>
<li>Pietro Perona and Jitendra Malik, <code>Scale-space and edge detection using anisotropic diffusion,</code> IEEE Transactions on Pattern Analysis
Machine Intelligence, vol. 12, pp. 629-639, 1990.</li>
<li>R. Whitaker and X. Xue. <code>Variable-Conductance, Level-Set Curvature for Image Denoising</code>, International Conference on Image Processing,
2001 pp. 142-145, Vol.3.</li>
</ul>
</div></details></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="arrayfire" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.59.0 (9d1b2106e 2022-02-23)" ></div>
</body></html>